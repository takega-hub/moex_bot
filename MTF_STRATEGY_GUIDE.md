# üìä –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ MTF (Multi-Timeframe) —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è MOEX –±–æ—Ç–∞

## üéØ –û–±–∑–æ—Ä

MTF —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –¥–≤—É—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤:
- **1h –º–æ–¥–µ–ª—å**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â–µ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞ (—Ñ–∏–ª—å—Ç—Ä)
- **15m –º–æ–¥–µ–ª—å**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–æ—á–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤**: 1h –º–æ–¥–µ–ª—å –æ—Ç—Å–µ–∫–∞–µ—Ç —à—É–º –∏ –ª–æ–∂–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
2. **–¢–æ—á–Ω—ã–µ –≤—Ö–æ–¥—ã**: 15m –º–æ–¥–µ–ª—å –¥–∞–µ—Ç –ª—É—á—à–∏–π —Ç–∞–π–º–∏–Ω–≥ –¥–ª—è –≤—Ö–æ–¥–∞
3. **–ü–æ–≤—ã—à–µ–Ω–∏–µ Win Rate**: –í—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π
4. **–ì–∏–±–∫–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ "strict" –∏ "weighted"

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

#### –û–±—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π (15m –∏ 1h) –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:

```bash
python train_all_models.py
```

#### –û–±—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ 15m –º–æ–¥–µ–ª–µ–π:

```bash
python train_all_models.py --only-15m
```

#### –û–±—É—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ 1h –º–æ–¥–µ–ª–µ–π:

```bash
python train_all_models.py --only-1h
```

#### –û–±—É—á–µ–Ω–∏–µ —Å MTF —Ñ–∏—á–∞–º–∏:

```bash
python train_all_models.py --mtf
```

#### –û–±—É—á–µ–Ω–∏–µ –±–µ–∑ MTF —Ñ–∏—á–µ–π:

```bash
python train_all_models.py --no-mtf
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–π

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏–π –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:

```bash
python test_mtf_combinations.py
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:

```bash
python test_mtf_combinations.py --ticker VBH6
```

#### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:

```bash
python test_mtf_combinations.py \
    --ticker VBH6 \
    --days 30 \
    --conf-1h 0.60 \
    --conf-15m 0.45 \
    --alignment-mode strict
```

## ‚öôÔ∏è –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### `confidence_threshold_1h` (float)
–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 1h –º–æ–¥–µ–ª–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `0.50`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π: `0.60-0.70` (–º–µ–Ω—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤, –≤—ã—à–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- –£–º–µ—Ä–µ–Ω–Ω—ã–π: `0.50-0.60` (–±–∞–ª–∞–Ω—Å)
- –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π: `0.40-0.50` (–±–æ–ª—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤)

### `confidence_threshold_15m` (float)
–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 15m –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—Ö–æ–¥–∞. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `0.35`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π: `0.45-0.55`
- –£–º–µ—Ä–µ–Ω–Ω—ã–π: `0.35-0.45`
- –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π: `0.25-0.35`

### `alignment_mode` (str)
–†–µ–∂–∏–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- `"strict"`: –°—Ç—Ä–æ–≥–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- `"weighted"`: –í–∑–≤–µ—à–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ

### `require_alignment` (bool)
–¢—Ä–µ–±–æ–≤–∞—Ç—å —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: `True`

**–õ–æ–≥–∏–∫–∞:**
- `True` + `strict`: –í—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–±–µ –º–æ–¥–µ–ª–∏ –¥–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- `False` + `weighted`: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–∑–≤–µ—à–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –¥–∞–∂–µ –ø—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ

## üîç –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### –†–µ–∂–∏–º "strict" (—Å—Ç—Ä–æ–≥–∏–π)

1. 1h –º–æ–¥–µ–ª—å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–Ω–¥–∞
2. –ï—Å–ª–∏ 1h –¥–∞–µ—Ç —Å–∏–≥–Ω–∞–ª (LONG/SHORT), –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è 15m –º–æ–¥–µ–ª—å
3. –ï—Å–ª–∏ 15m –¥–∞–µ—Ç —Ç–æ—Ç –∂–µ —Å–∏–≥–Ω–∞–ª - –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ–∑–∏—Ü–∏—è
4. –ï—Å–ª–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç - —Å–∏–≥–Ω–∞–ª –æ—Ç–∫–ª–æ–Ω—è–µ—Ç—Å—è

**–ü—Ä–∏–º–µ—Ä:**
```
1h: LONG (confidence: 0.65) ‚úÖ
15m: LONG (confidence: 0.42) ‚úÖ
‚Üí –í—Ö–æ–¥ –≤ LONG —Å –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é 0.51

1h: LONG (confidence: 0.60) ‚úÖ
15m: SHORT (confidence: 0.45) ‚ùå
‚Üí –°–∏–≥–Ω–∞–ª –æ—Ç–∫–ª–æ–Ω–µ–Ω (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç)
```

### –†–µ–∂–∏–º "weighted" (–≤–∑–≤–µ—à–µ–Ω–Ω—ã–π)

1. –û–±–µ –º–æ–¥–µ–ª–∏ –¥–∞—é—Ç –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
2. –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å = 0.4 √ó conf_1h + 0.6 √ó conf_15m
3. –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ–ª–µ–µ —É–≤–µ—Ä–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å (—Å –ø–æ–Ω–∏–∂–µ–Ω–Ω–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é)

**–ü—Ä–∏–º–µ—Ä:**
```
1h: LONG (0.70), 15m: LONG (0.50)
‚Üí –í—Ö–æ–¥ –≤ LONG —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é 0.58

1h: LONG (0.60), 15m: SHORT (0.55)
‚Üí –ö–æ–Ω—Ñ–ª–∏–∫—Ç, 15m –±–æ–ª–µ–µ —É–≤–µ—Ä–µ–Ω–∞ ‚Üí –í—Ö–æ–¥ –≤ SHORT —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é 0.33
```

## üìà –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ MTF —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:

1. **–í—ã—à–µ Win Rate**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–∂–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ 1h –º–æ–¥–µ–ª—å
2. **–ú–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö –≤—Ö–æ–¥–æ–≤**: –í—Ö–æ–¥ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–π
3. **–õ—É—á—à–∏–π —Ç–∞–π–º–∏–Ω–≥**: 15m –º–æ–¥–µ–ª—å –¥–∞–µ—Ç —Ç–æ—á–Ω—É—é —Ç–æ—á–∫—É –≤—Ö–æ–¥–∞
4. **–ú–µ–Ω—å—à–µ —Å–¥–µ–ª–æ–∫**: –ö–∞—á–µ—Å—Ç–≤–æ –≤–∞–∂–Ω–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

1. **–ú–µ–Ω—å—à–µ —Å–∏–≥–Ω–∞–ª–æ–≤**: –°—Ç—Ä–æ–≥–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –º–æ–≥—É—Ç –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
2. **–¢—Ä–µ–±—É–µ—Ç –æ–±–µ –º–æ–¥–µ–ª–∏**: –ù—É–∂–Ω—ã –æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –æ–±–æ–∏—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
3. **–°–ª–æ–∂–Ω–µ–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: –ë–æ–ª—å—à–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### 1. –ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç

```bash
python test_mtf_combinations.py --ticker VBH6 --days 30
```

### 2. –¢–µ—Å—Ç —Ä–∞–∑–Ω—ã—Ö –ø–æ—Ä–æ–≥–æ–≤

```bash
# –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π
python test_mtf_combinations.py --ticker VBH6 --days 30 --conf-1h 0.60 --conf-15m 0.45

# –£–º–µ—Ä–µ–Ω–Ω—ã–π
python test_mtf_combinations.py --ticker VBH6 --days 30 --conf-1h 0.50 --conf-15m 0.35

# –ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π
python test_mtf_combinations.py --ticker VBH6 --days 30 --conf-1h 0.40 --conf-15m 0.25
```

### 3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤

```bash
# –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º
python test_mtf_combinations.py --ticker VBH6 --days 30 --alignment-mode strict

# –í–∑–≤–µ—à–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º
python test_mtf_combinations.py --ticker VBH6 --days 30 --alignment-mode weighted
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π

### –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è (–≤—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –º–∞–ª–æ —Å–¥–µ–ª–æ–∫)

```python
confidence_threshold_1h = 0.65
confidence_threshold_15m = 0.50
alignment_mode = "strict"
require_alignment = True
```

### –£–º–µ—Ä–µ–Ω–Ω–∞—è (–±–∞–ª–∞–Ω—Å –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞)

```python
confidence_threshold_1h = 0.50
confidence_threshold_15m = 0.35
alignment_mode = "strict"
require_alignment = True
```

### –ê–≥—Ä–µ—Å—Å–∏–≤–Ω–∞—è (–±–æ–ª—å—à–µ —Å–¥–µ–ª–æ–∫, –Ω–∏–∂–µ –∫–∞—á–µ—Å—Ç–≤–æ)

```python
confidence_threshold_1h = 0.40
confidence_threshold_15m = 0.30
alignment_mode = "weighted"
require_alignment = False
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ù–∞—á–Ω–∏—Ç–µ —Å —É–º–µ—Ä–µ–Ω–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
2. **–¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ö** - –∫–∞–∂–¥—ã–π –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
3. **–°—Ä–∞–≤–Ω–∏–≤–∞–π—Ç–µ —Å –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —É–ª—É—á—à–µ–Ω–∏–π
4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ Win Rate –∏ Profit Factor** - –≥–ª–∞–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º** –¥–ª—è –Ω–∞—á–∞–ª–∞, –∑–∞—Ç–µ–º —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å weighted

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞: "1h –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –æ–±—É—á–µ–Ω–Ω—ã–µ 1h –º–æ–¥–µ–ª–∏:
   ```bash
   ls ml_models/*_VBH6_60_*.pkl
   ```
2. –ï—Å–ª–∏ –Ω–µ—Ç - –æ–±—É—á–∏—Ç–µ:
   ```bash
   python train_1h_models.py --ticker VBH6
   ```

### –û—à–∏–±–∫–∞: "15m –º–æ–¥–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –æ–±—É—á–µ–Ω–Ω—ã–µ 15m –º–æ–¥–µ–ª–∏:
   ```bash
   ls ml_models/*_VBH6_15_*.pkl
   ```
2. –ï—Å–ª–∏ –Ω–µ—Ç - –æ–±—É—á–∏—Ç–µ:
   ```bash
   python train_models.py --ticker VBH6 --interval 15min
   ```

### –ú–∞–ª–æ —Å–∏–≥–Ω–∞–ª–æ–≤

**–ü—Ä–∏—á–∏–Ω—ã:**
- –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–µ –ø–æ—Ä–æ–≥–∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏
- –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è
- –ú–æ–¥–µ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç –ø–æ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é

**–†–µ—à–µ–Ω–∏—è:**
1. –°–Ω–∏–∑—å—Ç–µ –ø–æ—Ä–æ–≥–∏:
   ```bash
   python test_mtf_combinations.py --conf-1h 0.40 --conf-15m 0.30
   ```
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∑–≤–µ—à–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º:
   ```bash
   python test_mtf_combinations.py --alignment-mode weighted --no-require-alignment
   ```

## üìö –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

- `bot/ml/mtf_strategy.py` - –û—Å–Ω–æ–≤–Ω–∞—è MTF —Å—Ç—Ä–∞—Ç–µ–≥–∏—è
- `train_1h_models.py` - –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è 1h –º–æ–¥–µ–ª–µ–π
- `train_all_models.py` - –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
- `test_mtf_combinations.py` - –°–∫—Ä–∏–ø—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–±–∏–Ω–∞—Ü–∏–π
- `MTF_STRATEGY_GUIDE.md` - –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û–±—É—á–∏—Ç–µ –º–æ–¥–µ–ª–∏ –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:
   ```bash
   python train_all_models.py
   ```

2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:
   ```bash
   python test_mtf_combinations.py
   ```

3. –í—ã–±–µ—Ä–∏—Ç–µ –ª—É—á—à–∏–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—Ñ–∞–π–ª—ã `mtf_combinations_*.csv`)

4. –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ MTF —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ –±–æ—Ç–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ `trading_loop.py`)
